%% config
\def\home{../../styles}

%% documentclass
\input{\home/documentclass_normal_oneside}

%% generell-styling
\input{\home/style_proggen}

%% meta-tags for pdf
\input{tex/metatags.tex}

%% fancy-header
\input{\home/style_header_oneside}

%% setting the infos for the pdf
\input{\home/info_hypersetup}

%% environments
\input{\home/environments_normal}
\input{\home/environments_mathe}

%% cover
\input{\home/style_cover}


\usepackage[strings]{underscore} % don't escape underscores

% label for programming-language
\input{\home/style_ruby}
\begin{document}
\input{\home/style_starting_document_without_cover}

\section{Angular}
\begin{itemize}
  \item Ist ein MV* für Single-Page Apps
  \item \textbf{Two-Way binding}: d.h. wenn sich das Model ändert, dann verändert sich auch die Seite und umgedreht. Dadurch muss man nicht auf spezifische Elemente achten.
  \item \textbf{dirty checking}: musst keine speziellen Strukturen und getter und setter Methoden schreiben, um Daten zu schreiben und zu lesen
  \item Managed Routing von Views in andere, updated URL im Browser
  \item Erweitert HTML um neue Elemente
\end{itemize}

\begin{verbatim}
<!doctype html>
<html ng-app="app">
    <head>
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.0/angular.min.js"></script>
    </head>
  <body>
    <h1 ng-controller="HelloWorldCtrl">{{ helloMessage }}</h1>
    <script type="text/javascript">
        angular.module('app', []).controller('HelloWorldCtrl',

        function($scope) {
            $scope.helloMessage = "Hello, World";
        })
    </script>
  </body>
</html>
\end{verbatim}

\subsection{Controller u. Scope}
\begin{itemize}
  \item Primäraufgabe: Erstellung des Scopes
  \item kommunizieren mit der View via One-way oder Two-way binding
  \item ist eine Funktion die mein Scope erweitert
  \item nimmt quasi einen leeren scopen und fügt Felder und Funktionen zu, die dann später für die view verwendet wird
  \item ein Controller muss immer in eine App gepackt werden
    \begin{verbatim}
  angular.module('MyHammerLayout', [])
    .controller("index", ["$scope", function($scope)])
    \end{verbatim}
    => definiert einen Controller mit den Namen 'index' und im Array
    werden wieder die Dependencies reingereicht, an dem scope packen wir unsere Funktionen und Variablen aus dem
    Controller
  \item scope: beinhaltet das Model und ist es nicht
  \item model: sind die Daten, die in den scope gehen
  \item view: kann Funktionen an den scope packen
  \item \textbf{ng-src}: delay auf dem Browser zum Laden der Ressource und lässt Angular
    entsprechende Variable ersetzen:
    \begin{verbatim}
<img ng-src="{{ event.imageUrl }}" alt="{{ event.name }}">
    \end{verbatim}
\end{itemize}


\ulbf{Repeating Information}: geht mit ng-repeat


\begin{verbatim}
eventsApp.controller('EventController',
    function EventController($scope) {
        $scope.event = {
            sessions: [
                {
                    name: 'Direktiven Meisterklasse'
                },
                {
                    name: 'Scope für Spaß und Profit'
                },
                {
                    name: 'Super, was die Controller so machen'
                }
            ]
        };
    }
);

// html
	<li ng-repeat="session in event.sessions">
		<div class="row session">
			<div class="well span9">
				<h4 class="well-title">{{ session.name }}</h4>
			</div>
		</div>
	</li>
\end{verbatim}


\ulbf{Event-Handling}

\begin{itemize}
  \item \textbf{ng-click}: when button is clicked the function is triggered
    \begin{verbatim}
        $scope.upVoteSession = function(session) {
            session.upVoteCount++;
        };

        $scope.downVoteSession = function(session) {
            session.upVoteCount--;
        };
// html
          <li ng-repeat="session in event.sessions">
            <div class="row session">
              <div class="span0 well votingWidget">
                <div class="votingButton" ng-click="upVoteSession(session)">
                  <i class="icon-chevron-up icon-white"></i>
                </div>
                <div class="badge badge-inverse">
                  <div>{{ session.upVoteCount }}</div>
                </div>
                <div class="votingButton" ng-click="downVoteSession(session)">
                  <i class="icon-chevron-down"></i>
                </div>
              </div>
    \end{verbatim}
\end{itemize}


\subsection{Services}
\begin{itemize}
  \item kapseln Logik und Zustand der Anwendung
  \item mit denen kommuniziert man mit den Server
\end{itemize}


\subsection{Routing}

\subsection{Direktiven}
\begin{itemize}
  \item fügen HTML neue Funktionalität hinzu
  \item immer Benutzen, wenn man etwas am DOM zu ändern hat
  \item Arten Direktiven zu schreiben:
    \begin{verbatim}
  <ng-form />
  <div ng-form />
  <div class="ng-form" />
    \end{verbatim}
  \item ngCloak
\end{itemize}


\ulbf{Event Direktiven}
\begin{itemize}
  \item ngClick
  \item ngDblclick
  \item ngMouseenter
  \item ngMouseleave
  \item ngMouseleave
  \item ngMousedown
  \item ngMouseover
  \item ngMouseup
  \item ngChange: merkt Änderungen an vielen HTML Elementen, braucht aber immer ein ng-model
  \item ngCloak: versteckt Stücke von der Seite bis Angular geladen/ausgeführt wurde (keine Flashes,
    wenn man langsame Seiten hat)
  \item ngStyle: kann man CSS hinzufügen:
    \begin{verbatim}
$scope.moiStyle = {color: 'red'};
<h2 ng-style="moiStyle" ng-bind="event.name"</h2>
    \end{verbatim}
\end{itemize}


\ulbf{Andere Direktiven}
\begin{itemize}
  \item ngApp:
  \item ngBind: ersetzt den HTML Inhalt vom festgelegten Element mit dem Wert des Ausdrucks
    \begin{verbatim}
<h2 ng-bind="event.name"</h2>
    \end{verbatim}
  \item ngBindTemplate: Hier kann man mehrere Ausdrücke ersetzen lassen
    \begin{verbatim}
<h2 ng-bind-template="{{ event.name }} {{ event.date }}"</h2>
    \end{verbatim}
  \item ngBindHtml: fügt HTML sicher ein, d.h. HTML wird durch sanitize Service gefeuert und die
    filtert einige ungewollte Sachen raus (wie \uline{z.B.} inline styles)

    \begin{verbatim}
$scope.snippet = '<span style="color: red">Hio</span>';

// html
<div ng-bind-html="snippet"></div>
// output:
<div class="ng-binding" ng-bind-html="snippet">
  <span>Hio</span>
</div>
    \end{verbatim}
  \item ngBindHtmlUnsafe
  \item ngHide und ngShow: verstecken und anzeigen von Elementen, je nachdem ob er übergebene Weert
    true oder false ist:
    \begin{verbatim}
$scope.boolValue = false;
<h2 ng-show="boolValue">Eine Headline</h2>
<h2 ng-hide="boolValue">Eine andere Headline</h2>
    \end{verbatim}
\end{itemize}

\subsection{Testing}

\end{document}
